CoreASIM agent

use Standard

init Start

scheduling whileRunning

policy whileRunning = skip

rule Start = {
	program(self) := Program
}

rule CreditReviewReq(msg) = {
	print "received"
	print msg
}

rule Program = {
	print "checking inbox"

    choose m in inboxOf(self) with getMessageSubject(m)="CreditReviewRequest" do {
    	msgIn := getMessageContent(m)
    	if msgIn != undef then par
    		CreditReviewReq(msgIn)
		endpar
    }
}
